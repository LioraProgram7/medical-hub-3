function medicalhub_api(){this.apiPath="api/";this.data={};this.setRequestData=function(a){this.data=typeof(a)==="object"?JSON.stringify(a):a};this.request=function(f,c,d,b){var a=getCookie("access_token"),e={url:this.apiPath+c,data:this.data,method:f,success:d,error:b};if(a!==undefined){$.ajaxSetup({headers:{Authorization:a}})}if(this.data!==null){e.dataType="json"}$.ajax(e);this.data={}}}var mh_api=new medicalhub_api();function getUrlParameter(a){var d=window.location.search.substring(1),c=d.split("&"),e,b;for(b=0;b<c.length;b++){e=c[b].split("=");if(e[0]===a){return typeof e[1]===undefined?true:decodeURIComponent(e[1])}}return false}function serialize(a){let str=[];for(let p in a){if(a.hasOwnProperty(p)){str.push(encodeURIComponent(p)+"="+encodeURIComponent(a[p]))}}return str.join("&")}function getPageName(){return window.location.pathname.replace("/","").replace(".php","")}function getCookie(b){const e=document.cookie.split(";");for(var d=0;d<e.length;d++){var a=e[d].split("=");if(a[0]===undefined||a[1]===undefined){continue}var c=a[0].toString().replace(" ",""),f=a[1].toString().replace(" ","");if(c==b){return f}}}function setCookie(a,b){document.cookie=a+"="+b}function deleteCookie(a){setCookie(a,";expires=Thu, 01 Jan 1970 00:00:01 GMT")}function loadPage(a){updateHeaderMenu();$("main").load(a+" main > *",function(){if($("#popup").length>0){$("#popup").remove()}window.history.pushState({},document.title,a);$(window).unbind("resize");$(document).unbind("ready");$(document).ready(pageFunctions[getPageName()]);$(".breadcrumbs__link.breadcrumbs__link--home:last").click(function(){loadPage("/")})})}function isUserLoggedIn(){return getCookie("access_token")!==undefined}function updateHeaderMenu(){var a=isUserLoggedIn();$(".header__menu.menu").css("display",a?"none":"flex");$(".header__menu.menu__connected").css("display",a?"flex":"none")}function pageFunctionIndex(){mh_api.request("get","directions/list",function(i){var e=i;for(var b=0;b<e.length;b++){var h=$("<a></a>").addClass("directions__list"),g=$("<div></div>").addClass("directions__box"),f=$("<img></img>").addClass("directions__img"),d=$("<div></div>").addClass("directions__inner"),c=$("<span></span>").addClass("directions__subtitle"),a=$("<span></span>").addClass("directions__text");h.attr("href","#");h.attr("id",e[b].id);f.attr("src",e[b].img_link);c.text(e[b].specialization_name);a.text(e[b].doctors_count+" doctors");g.append(f);d.append(c,a);h.append(g,d);$(".directions__info").append(h)}$(".directions__list").click(function(j){loadPage("doctors?direction_id="+j.currentTarget.id)})});mh_api.request("get","doctors/list",function(m){var j=m.list;for(var h=0;h<j.length;h++){var l=$("<a></a>").addClass("doctors__cart"),c=$("<div></div>").addClass("doctors__box"),b=$("<img></img>").addClass("doctors__box-img"),g=$("<div></div>").addClass("doctors__info"),e=$("<h3></h3>").addClass("doctors__name"),f=$("<span></span>").addClass("doctors__position"),n=$("<span></span>").addClass("doctors__education"),a=$("<span></span>").addClass("doctors__work"),i="";for(var k=0;k<j[h].directions.length;k++){i+=j[h].directions[k]+"/"}i=i.replace(/\/+$/,"");l.attr("id",j[h].id);b.attr("src","images/doctors/doctor.svg");e.text(j[h].full_name);f.text(i);n.text("Graduated from "+j[h].graduated_of);a.text("Work in "+j[h].work_in);c.append(b);g.append(e,f,n,a);l.append(c,g);$(".doctors__wrap").append(l)}$(".doctors__cart").click(function(d){loadPage("doctor?id="+d.currentTarget.id)})});$(".doctors__btn.btn-blue").click(function(){loadPage("doctors")});$("input.top__input").keypress(function(a){if((a.keyCode?a.keyCode:a.which)!=13){return}a.preventDefault();if(a.currentTarget.value==""){return}loadPage("doctors?search="+a.currentTarget.value)})}var pageFunctions={"":pageFunctionIndex,index:pageFunctionIndex,connect:function(){if(isUserLoggedIn()){loadPage("profile");return}function b(){var h=$("<div></div>").addClass("popup").attr("id","popup"),g=$("<a></a>").addClass("popup__area").attr("href","#header"),j=$("<div></div>").addClass("popup__body"),f=$("<div></div>").addClass("popup__content"),d=$("<a></a>").addClass("popup__close").attr("href","#header"),i=$("<svg></svg>"),n=$("<path></>"),l=$("<div></div>").addClass("popup__title").text("Забыли пароль?"),m=$("<div></div>").addClass("popup__text").text("Впишите свой емайл для востановления пароля"),k=$("<input></input>").addClass("connection-registr__input"),e=$("<button></button>").addClass("connection-connect__btn red__btn");i.attr("width","20").attr("height","20").attr("viewBox","0 0 20 20").attr("fill","none").attr("xmlns","http://www.w3.org/2000/svg");n.attr("d","M10.4713 10.0293L15.8851 4.61551C16.0071 4.49348 16.0071 4.29562 15.8851 4.17359C15.763 4.05156 15.5652 4.05156 15.4431 4.17359L10.0293 9.58734L4.61554 4.17355C4.49351 4.05152 4.29565 4.05152 4.17362 4.17355C4.05155 4.29559 4.05155 4.49344 4.17362 4.61547L9.58737 10.0293L4.17358 15.4431C4.05151 15.5652 4.05151 15.763 4.17358 15.885C4.2346 15.9461 4.31456 15.9766 4.39456 15.9766C4.47456 15.9766 4.55452 15.9461 4.61554 15.885L10.0293 10.4712L15.4431 15.885C15.5042 15.9461 15.5841 15.9766 15.6641 15.9766C15.7441 15.9766 15.8241 15.9461 15.8851 15.885C16.0071 15.763 16.0071 15.5652 15.8851 15.4431L10.4713 10.0293Z").attr("fill","black");k.attr("type","email").attr("for","email").attr("placeholder","Почтовый адрес");e.text("Выслать новый пароль");i.append(n);d.append(i);f.append(d,l,m,k,e);j.append(f);h.append(g,j);return h}function c(e){var d=$("<div></div>").attr("id",e);d.css({"margin-bottom":"20px","font-size":"20px",display:"none"});return d}function a(f,e,d){$("#"+f).css({color:d,display:"block"}).text(e)}b().insertAfter($("footer"));c("login-message").insertBefore($(".connection-connect__box"));c("register-message").insertBefore($(".connection-registr__regulations"));$(".connection-registr__btn.white-red__btn").click(function(){var k=$("input[for=firstName]")[0],h=$("input[for=lastName]")[0],j=$("input[for=mail]:first")[0],d=$("input[for=password]:first")[0],i=k.value,g=h.value,f=j.value,e=d.value;mh_api.setRequestData({first_name:i,last_name:g,email:f,password:e});mh_api.request("post","user/register",function(m){k.value="";h.value="";j.value="";d.value="";var l=i+", your account has been successfully registered";a("register-message",l,"green")},function(m){var l={empty_email:"Email is empty",invalid_email:"Invalid email",email_exist:"Email already exists",empty_password:"Password is empty",invalid_password:"Invalid password",empty_first_name:"First name is empty",invalid_first_name:"Invalid first name",empty_last_name:"Last name is empty",invalid_last_name:"Invalid last name",unknown_error:"Unknown error"};if(l.hasOwnProperty(m.responseJSON.error)){a("register-message",l[m.responseJSON.error],"red")}else{a("register-message","Unknown error","red")}})});$(".connection-connect__btn.red__btn:first").click(function(){var e=$("input[for=mail]:last")[0].value,d=$("input[for=password]:last")[0].value;mh_api.setRequestData({email:e,password:d});mh_api.request("post","user/login",function(f){$("#login-message").css("display","none");setCookie("access_token",f.access_token);setCookie("expired",f.expired);loadPage("profile")},function(g){var f={user_not_found:"Invalid email",incorrect_password:"Incorrect password"};if(f.hasOwnProperty(g.responseJSON.error)){a("login-message",f[g.responseJSON.error],"red")}else{a("login-message","Unknown error","red")}})})},contacts:function(){$("input.top__input").keypress(function(b){if((b.keyCode?b.keyCode:b.which)!=13){return}b.preventDefault();if(b.currentTarget.value==""){return}loadPage("doctors?search="+b.currentTarget.value)});$(".contacts-basic__item").on("click",function(b){b.preventDefault();$(".contacts-basic__item").removeClass("contacts-basic__item--active");$(this).addClass("contacts-basic__item--active");$(".contacts-info__item").removeClass("contacts-info__item--active");$($(this).attr("href")).addClass("contacts-info__item--active")});var a=getUrlParameter("tab");if(a){$('.contacts-basic__item[href="#tab-'+a+'"]').click()}},diseases:function(){function a(e){var d=$(".directory__disease-item.directory__disease-item--active");if(d.length>0){d[0].classList.remove("directory__disease-item--active")}$("#"+e).parent().addClass("directory__disease-item--active");$(".directory__subtitle")[1].textContent="Diseases by the letter "+e;mh_api.request("get","diseases/directory?letter="+e,function(j){$(".directory__name-item").remove();var f=j;for(var i=0;i<f.length;i++){var h=$("<li></li>").addClass("directory__name-item"),g=$("<a></a>").addClass("directory__name-link");g.text(f[i].short_name);g.attr("id",f[i].id);g.attr("href","#");h.append(g);$(".directory__name").append(h)}$(".directory__name-link").unbind("click");$(".directory__name-link").click(function(k){loadPage("disease?id="+k.target.id)})},function(){})}mh_api.request("get","diseases/popular",function(i){var e=i;for(var h=0;h<e.length;h++){var g=$("<li></li>").addClass("directory__often-item"),f=$("<a></a>").addClass("directory__often-link");f.attr("href","#").attr("id",e[h].id);f.text(e[h].short_name);g.append(f);$(".directory__often").append(g)}$(".directory__often-link").click(function(d){loadPage("disease?id="+d.currentTarget.id)})});var b=$("a.directory__disease-link");for(var c=0;c<b.length;c++){b[c].id=b[c].textContent[0]}a(b[0].textContent[0]);$(".directory__disease-item").click(function(d){d.preventDefault();a(d.currentTarget.children[0].textContent[0])})},disease:function(){var a=getUrlParameter("id");if(a===undefined){loadPage("diseases")}mh_api.request("get","disease/"+a,function(j){$(".breadcrumbs__link:last").text(j.short_name.split("")[0].toUpperCase());var k=$("<div></div>").addClass("disease__box"),d=$("<h3></h3>").addClass("disease__title"),f=$(j.definition).addClass("disease__text"),l=$("<h4></h4>").addClass("disease__subtitle"),h=$("<ul></ul>").addClass("disease__inner"),c=$("<div></div>").addClass("disease__box");d.text(j.full_name);k.append(d,f);l.text("Articles on the topic of "+j.full_name+":");for(var i=0;i<j.articles.length;i++){var g=$("<li></li>").addClass("disease__item"),b=$("<a></a>").addClass("disease__link"),e=$(j.articles[i].content);b.attr("href","#"+j.articles[i].id);b.text(j.articles[i].header);e[0].id=j.articles[i].id;g.append(b);h.append(g);c.append(e)}$("div.container:even:odd").append(k,l,h,c)});$("a.breadcrumbs__link:last").click(function(){loadPage("diseases")})},doctor:function(){var a=getUrlParameter("id");if(a===undefined||a==""){loadPage("doctors");return}$(".dortor-profile__grade.white-red__btn").click(function(){loadPage("grade?doctor_id="+a)});mh_api.request("get","doctor/"+a,function(v){function e(g,w,d){var y=$("<div></div>").addClass("dortor-profile__raiting doctors__raiting"),r=$("<span></span>").addClass("doctors__item doctors__item-recomended"),x=$("<span></span>").addClass("doctors__item doctors__item-reviews"),z=$("<span></span>").addClass("doctors__item doctors__item-grade");r.text(g+" Recommends");x.text(w+" Reviews");z.text(d+" Grades");y.append(r,x,z);return y}function i(x,w){var r=$("<div></div>").addClass("dortor-profile__speciality"),d=[["Provision register number: ",x],["Date provision register number: ",w]];for(var g=0;g<d.length;g++){var y=$("<span></span>").addClass("dortor-profile__speciality-text"),z=$("<span></span>").addClass("dortor-profile__speciality-number");y.text(d[g][0]);z.text(d[g][1]);r.append(y.append(z))}return r}function t(x,w){var r=$("<div></div>").addClass("dortor-profile__education"),g=$("<span></span>").addClass("dortor-profile__education-text"),d=$("<span></span>").addClass("dortor-profile__education-subtext");g.text(x);d.text(w);r.append(g,d);return r}function h(y,z,r){var C=$("<div></div>").addClass("dortor-profile__work"),E=$("<span></span>").addClass("dortor-profile__work-text"),F=$("<div></div>").addClass("dortor-profile__work-inner"),d=[[" year: ",z],[" number: ",r]];E.text(y);for(var D=0;D<d.length;D++){var g=$("<div></div>").addClass("dortor-profile__work-wrap"),A=$("<span></span>").addClass("dortor-profile__work-apc"),B=$("<span></span>").addClass("dortor-profile__work-year"),x=$("<span></span>").addClass("dortor-profile__work-info"+(D+1));A.text("apc");B.text(d[D][0]);x.text(d[D][1]);g.append(A,B,x);F.append(g)}return C.append(E,F)}function o(g,w,x,A){var B=$("<div></div>").addClass("dortor-profile__wrap mix"),y=$("<div></div>").addClass("dortor-profile__wrap-top"),d=$("<span></span>").addClass("dortor-profile__wrap-name"),r=$("<span></span>").addClass("dortor-profile__wrap-time"),z=$("<p></p>").addClass("dortor-profile__wrap-review");B.addClass("category-"+(A?"a":"b"));z.addClass("dortor-profile__wrap-review--"+(A?"yes":"now"));d.text(g);r.text(w);z.text(x);y.append(d,r);B.append(y,z);return B}function u(w,g,r,y){var d,x;y-=1;d=((y/3)*100);x=parseFloat(w.css("width"));g.css("width",d+"%");r.css("left",((x/3)*y)+"px");r.text((y+1).toString().replace(".",","))}function k(w,d,B){var g=$("<div></div>").addClass("dortor-profile__grade-info grade-info"),y=$("<p></p>").addClass("grade-info__text"),z=$("<div></div>").addClass("grade-info__item"),A=$("<span></span>").addClass("grade-info__progress"),r=$("<span></span>").addClass("grade-info__bage"),x=$("<p></p>").addClass("grade-info__answer");y.text(w);r.text(d);x.text(B);z.append(A,r);g.append(y,z,x);$(window).resize(function(){u(z,A,r,d)});return g}$(".dortor-profile__speciality").remove();$(".dortor-profile__education").remove();$(".dortor-profile__work").remove();$(".dortor-profile__grade-info.grade-info").remove();$(".dortor-profile__wrap.mix").remove();$("span.breadcrumbs__link").text(v.full_name);$(".doctors__name").text(v.full_name);var n="";for(var m=0;m<v.directions.length;m++){n+=v.directions[m].specialization_name+"/"}$(".doctors__position").text(n.replace(/\/+$/,""));$(".dortor-profile__inner:first").append(e(v.recommends_percent,v.reviews_count,v.grades_count));$(".dortor-profile__inner.dortor-profile__inner-license").append(i(v.provisional_registration_number,v.date_of_provisional_registration));$(".dortor-profile__inner.dortor-profile__inner-education").append(t("Qualification: ",v.qualification),t("Graduated from: ",v.graduated_of));for(var s=0;s<v.apc.length;s++){$(".dortor-profile__inner.dortor-profile__inner-work").append(h(v.apc[s].place_of_practise_principle_first,v.apc[s].apc_year,v.apc[s].apc_no))}for(var j=0;j<v.grade_stats.length;j++){$(".dortor-profile__grade-box").append(k(v.grade_stats[j].question_text,v.grade_stats[j].avg_score,v.grade_stats[j].answer_text))}$(window).resize();var f=v.reviews.length,c=0,l=0;for(var b=0;b<v.reviews.length;b++){var q=v.reviews[b].is_recommended==1?true:false;q?c++:l++;$(".dortor-profile__wrapper").append(o(v.reviews[b].first_name,v.reviews[b].date,v.reviews[b].comment,q))}$('.dortor-profile__info-dtn[data-filter="all"]')[0].childNodes[2].textContent=" "+f+")";$('.dortor-profile__info-dtn[data-filter=".category-a"]')[0].childNodes[2].textContent=" "+c+")";$('.dortor-profile__info-dtn[data-filter=".category-b"]')[0].childNodes[2].textContent=" "+l+")"});$("input.top__input").keypress(function(b){if((b.keyCode?b.keyCode:b.which)!=13){return}b.preventDefault();if(b.currentTarget.value==""){return}loadPage("doctors?search="+b.currentTarget.value)})},doctors:function(){var w,m,k,g,t,n,v,u,q;w=document.getElementsByClassName("custom-select");g=w.length;for(m=0;m<g;m++){n=w[m].getElementsByTagName("select")[0];t=n.length;v=document.createElement("DIV");v.setAttribute("class","select-selected");v.innerHTML=n.options[n.selectedIndex].innerHTML;w[m].appendChild(v);u=document.createElement("DIV");u.setAttribute("class","select-items select-hide");for(k=1;k<t;k++){q=document.createElement("DIV");q.innerHTML=n.options[k].innerHTML;q.addEventListener("click",function(A){var B,j,c,x,l,a,b;x=this.parentNode.parentNode.getElementsByTagName("select")[0];a=x.length;l=this.parentNode.previousSibling;for(j=0;j<a;j++){if(x.options[j].innerHTML==this.innerHTML){x.selectedIndex=j;l.innerHTML=this.innerHTML;B=this.parentNode.getElementsByClassName("same-as-selected");b=B.length;for(c=0;c<b;c++){B[c].removeAttribute("class")}this.setAttribute("class","same-as-selected");break}}l.click()});u.appendChild(q)}w[m].appendChild(u);v.addEventListener("click",function(a){a.stopPropagation();e(this);this.nextSibling.classList.toggle("select-hide");this.classList.toggle("select-arrow-active")})}function e(l){var a,A,j,s,b,c=[];a=document.getElementsByClassName("select-items");A=document.getElementsByClassName("select-selected");s=a.length;b=A.length;for(j=0;j<b;j++){if(l==A[j]){c.push(j)}else{A[j].classList.remove("select-arrow-active")}}for(j=0;j<s;j++){if(c.indexOf(j)){a[j].classList.add("select-hide")}}}document.addEventListener("click",e);var d=0,o=0;function f(c){var b={},a=$(".doctors-page__direction-input:checkbox:checked");b.page=c;if(a.length>0){b.direction_ids="";for(var i=0;i<a.length;i++){b.direction_ids+=a[i].id+","}}if($(".same-as-selected").length>0){b.sort_by=$(".same-as-selected").attr("id")}if($("input.top__input")[0].value!==""){b.search_by_full_name=$("input.top__input")[0].value}mh_api.setRequestData(serialize(b));mh_api.request("get","doctors/list",function(F){o=c;d=F.pages_count;$(".doctors-page__all").text("All doctors "+F.doctors_count);var j=$(".doctors__cart"),E=F.list;for(var C=0;C<j.length;C++){if(E[C]===undefined){j[C].style.display="none";continue}var D="";for(var A=0;A<E[C].directions.length;A++){D+=E[C].directions[A]+"/"}D=D.replace(/\/+$/,"");j[C].style.display="";j[C].id=E[C].id;j[C].href="doctor?id="+E[C].id;j[C].getElementsByClassName("doctors__name")[0].textContent=E[C].full_name;j[C].getElementsByClassName("doctors__position")[0].textContent=D;j[C].getElementsByClassName("doctors__education")[0].textContent="Graduated from "+E[C].graduated_of;j[C].getElementsByClassName("doctors__work")[0].textContent="Work in "+E[C].work_in}$(".pagination__link.pagination__link--active").removeClass("pagination__link--active");c=parseInt(c);var B=$(".pagination__link"),x=(F.pages_count/2)<c,s=c+1;if(B.length>=(F.pages_count+1)){for(var l=0;l<B.length;l++){if(l>F.pages_count){B[l].parentElement.style.display="none";continue}B[l].textContent=l+1;B[l].id=l;if(c==l){B[l].classList.add("pagination__link--active")}}return}$(".pagination__item").css("display","");B[0].textContent=x?1:s;B[1].textContent=x?"...":s+1;B[2].textContent=x?s-1:"...";B[3].textContent=x?s:F.pages_count+1;B[0].id=x?0:c;B[1].id=x?c-2:c+1;B[2].id=x?c-1:c+2;B[3].id=x?c:F.pages_count;$(".pagination__link:"+(x?"last":"first")).addClass("pagination__link--active")})}var z=getUrlParameter("search"),r=$(".select-items.select-hide").children(),h=["name_asc","name_desc","lastname_asc","lastname_desc","rate_up","rate_down"];if(z){$("input.top__input")[0].value=z}for(var y=0;y<r.length;y++){r[y].id=h[y]}r.click(function(){f(0)});mh_api.request("get","directions/list",function(x){var j=x,b=getUrlParameter("direction_id");for(var a=0;a<j.length;a++){var s=$("<label></label>").addClass("doctors-page__direction-label"),i=$("<input></input>").addClass("doctors-page__direction-input"),c=$("<span></span>").addClass("doctors-page__direction-check");i.attr("type","checkbox");i.attr("id",j[a].id);if(b==j[a].id){i[0].checked=true}s.append(i,c);s.append(j[a].name+" ("+j[a].doctors_count+")");$(".doctors-page__direction-form").append(s)}$(".doctors-page__direction-input:checkbox").click(function(){f(0)});f(o)});$("input.top__input").keypress(function(a){if((a.keyCode?a.keyCode:a.which)==13){a.preventDefault()}}).keyup(function(a){f(0)});$(".doctors__cart").click(function(a){a.preventDefault();loadPage("doctor?id="+a.currentTarget.id)});$(".pagination__link").click(function(a){f(a.currentTarget.id)});$(".pagination__arrows").click(function(b){var a=b.currentTarget.classList[1]=="pagination__prev"?o-1:o+1;if(a<0||a>d){return}f(a)})},grade:function(){var b=getUrlParameter("doctor_id");if(b==""||b==undefined){loadPage("doctors")}if(!isUserLoggedIn()){loadPage("connect")}function a(e,h,j,l){var i=$("<div></div>").addClass("grade-box__inner"),n=$("<div></div>").addClass("grade-box__top"),g=$("<span></span>").addClass("grade-box__number"),f=$("<h4></h4>").addClass("grade-box__title"),k=$("<form></form>").addClass("grade-box__questionnaire");g.text(h);f.text(j);k.attr("questionid",e);for(var m=0;m<l.length;m++){var d=$("<label></label>").addClass("grade-box__label"),c=$("<input></input>").addClass("grade-box__input");boxCheckbox=$("<span></span>").addClass("grade-box__checkbox"),boxText=$("<span></span>").addClass("grade-box__text");d.attr("answerid",l[m].id);boxText.text(l[m].text);c.attr("type","checkbox");d.append(c,boxCheckbox,boxText);k.append(d)}n.append(g,f);i.append(n,k);return i}mh_api.request("get","doctor/"+b,function(c){$(".grade__name").text(c.full_name);mh_api.request("get","grade/questions",function(f){$(".grade-box__inner").remove();for(var d=0;d<f.length;d++){$(".grade-box__wrap").append(a(f[d].id,d+1+"/"+f.length,f[d].text,f[d].answers))}var e=[];$(".grade-box__input").click(function(m){var h=m.currentTarget.parentElement.parentElement.getAttribute("questionid"),l=m.currentTarget.parentElement.getAttribute("answerid"),n=$(".grade-box__label"),i=false;for(var k=0;k<e.length;k++){if(e[k].question_id!=h){continue}i=true;e[k].answer_id=l}if(!i){e.push({question_id:h,answer_id:l})}for(var j=0;j<n.length;j++){if(n[j].parentElement.getAttribute("questionid")!=h){continue}if(n[j].getAttribute("answerid")==l){continue}n[j].children[0].checked=false}});$(".regulations__btn").click(function(){var g={id:b,comment:$("#myTextarea")[0].value,question_answers:e};mh_api.setRequestData(g);mh_api.request("post","grade/doctor",function(){loadPage("doctor?id="+b)},function(){})});mh_api.request("get","grade/doctor?id="+b,function(h){for(var g=0;g<h.answer_ids.length;g++){$('.grade-box__label[answerid="'+h.answer_ids[g]+'"]').children()[0].click()}$("#myTextarea")[0].value=h.comment})})},function(){loadPage("doctors")})},profile:function(){if(!isUserLoggedIn()){loadPage("connect");return}$(".profile__top-item").on("click",function(a){a.preventDefault();$(".profile__top-item").removeClass("profile__top-item--active");$(this).addClass("profile__top-item--active");$(".profile__content-item").removeClass("profile__content-item--active");$($(this).attr("href")).addClass("profile__content-item--active")})}};$(".menu__btn, .menu a").on("click",function(){$(".menu__list, .menu__btn").toggleClass("active")});$(".menu__link, .footer-top__link").click(function(a){a.preventDefault();if(a.currentTarget.href=="connect"&&isUserLoggedIn()){deleteCookie("access_token");deleteCookie("expired")}loadPage(a.currentTarget.href)});$(".breadcrumbs__link.breadcrumbs__link--home:last").click(function(){loadPage("/")});$(document).unbind("ready");$(document).ready(pageFunctions[getPageName()]);updateHeaderMenu();